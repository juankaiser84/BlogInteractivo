/* =========================================
   RESET + BASE
========================================= */
:root{
  /* Paleta */
  --color-bg: #ffffff;
  --color-bg-dark: #0f172a;
  --color-bg-light: #111827;
  --color-text-dark: #0f172a;
  --color-text-light: #e5e7eb;
  --color-primary: #00d4ff;   /* cian */
  --color-secondary: #7c3aed; /* morado */
  --color-accent: #ff2b89;    /* rosa */
  /* Spacing & misc */
  --spacing-xs:.25rem; --spacing-sm:.5rem; --spacing-md:1rem; --spacing-lg:1.5rem; --spacing-xl:2rem;
  --border-radius:12px;
  --shadow-1:0 4px 6px rgba(0,0,0,.2);
  --shadow-2:0 6px 12px rgba(0,0,0,.3);
  --font-sans: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --font-title: var(--font-sans);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: var(--font-sans);
  line-height:1.5;
  color: var(--color-text-dark);
  background: var(--color-bg);
}
img{max-width:100%; display:block}
a{color:inherit; text-decoration:none}
a:focus, button:focus, input:focus{outline:2px solid var(--color-primary); outline-offset:2px}
.visually-hidden{position:absolute!important; width:1px;height:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
.container{width:100%; max-width:1200px; margin:0 auto; padding:0 var(--spacing-lg)}
.overflow-hidden{overflow:hidden}

/* Skip link */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left: var(--spacing-lg); top: var(--spacing-lg);
  width:auto; height:auto; background:#000; color:#fff; padding:.5rem .75rem; border-radius:8px; z-index:10000;
}

/* Botones genéricos */
.btn{cursor:pointer; border:0; border-radius:var(--border-radius); padding:.6rem 1rem; font-weight:700}
.btn--secondary{background: var(--color-secondary); color: #fff}
.btn--link{color: var(--color-accent); font-weight:700}
.btn--icon{background:transparent}

/* =========================================
   HEADER + NAV
========================================= */
.site-header { position: sticky; top:0; z-index:1000; background: var(--color-bg-dark); color: var(--color-text-light); }
.site-header__inner { position:relative; min-height:64px; }
.site-header__brand{
  position:absolute; left: var(--spacing-lg); top:50%; transform: translateY(-50%);
  display:inline-flex; gap:.5rem; align-items:center;
}
.site-header__title{ font-family: var(--font-title); font-size:1.5rem; color: var(--color-primary); }

/* Toggle redondo (siempre visible) */
#themeToggle{
  position:absolute; right: var(--spacing-lg); top:50%; transform: translateY(-50%);
  width:38px; height:38px; border-radius:9999px; display:grid; place-items:center;
  border:2px solid var(--color-primary); color: var(--color-primary); background: transparent;
  transition: transform .15s ease, background-color .2s ease, color .2s ease;
}
#themeToggle:hover{ transform: translateY(-50%) scale(1.05); background: rgba(255,255,255,.06); }

/* Hamburguesa solo mobile */
#menuToggle{
  position:absolute; right: calc(var(--spacing-lg) + 48px); top:50%;
  transform: translateY(-50%); display:inline-flex; color: var(--color-text-light);
}
@media (min-width:768px){ #menuToggle{ display:none } }

/* Nav móvil (desplegable) */
.nav{ display:none; }
@media (max-width:767.98px){
  .nav{
    position:absolute; right: var(--spacing-lg); top:100%;
    background: var(--color-bg-dark); color: var(--color-text-light);
    border:1px solid rgba(255,255,255,.1); border-radius: var(--border-radius);
    padding:.5rem .75rem; box-shadow: var(--shadow-2);
  }
  .nav__list{ display:grid; gap:.5rem; margin:0; padding:0; list-style:none; }
  .nav:not(.nav--open){ display:none }
  .nav.nav--open{ display:block }
}

/* Nav desktop (centrada) */
@media (min-width:768px){
  .nav{
    display:block; position:absolute; left:50%; top:50%; transform: translate(-50%, -50%);
  }
  .nav__list{ display:flex; gap: clamp(.75rem, 2vw, 2rem); margin:0; padding:0; list-style:none; align-items:center }
}
.nav__link{ color: var(--color-text-light); font-weight:700; transition: color .25s ease; }
.nav__link:hover, .nav__link[aria-current="page"]{ color: var(--color-accent) }

/* Oscuro activado por JS en <html class="theme--dark"> */
.theme--dark #themeToggle{ border-color: var(--color-accent); color: var(--color-accent) }
.theme--dark .nav__link:hover, .theme--dark .nav__link[aria-current="page"]{ color: var(--color-primary) }

/* =========================================
   HERO + BUSCADOR + POSTS GRID
========================================= */
.search .container, .posts .container{ max-width:980px; margin:0 auto; }
.search__title{ text-align:center; margin-top: clamp(1rem, 3vw, 2rem); font-size: clamp(1.6rem, 2.6vw, 2.2rem) }
.search__form{ display:grid; justify-items:center; gap:.5rem }
#search-input{
  width:min(560px, 92%); margin:0 auto; padding:.6rem .8rem;
  border:2px solid var(--color-primary); border-radius: var(--border-radius); font-size:1rem
}

/* GRID + CARD */
.posts__grid{ max-width:980px; margin:1rem auto 0; padding:0 var(--spacing-md) }
.card{
  background: var(--color-bg-dark); color: var(--color-text-light);
  border-radius: var(--border-radius); padding: var(--spacing-md); margin-bottom: var(--spacing-lg);
  box-shadow: var(--shadow-1); transition: transform .2s ease, box-shadow .2s ease;
}
.card:hover{ transform: translateY(-4px); box-shadow: var(--shadow-2) }
.card__header{ display:flex; justify-content:space-between; align-items:baseline; margin-bottom: var(--spacing-sm) }
.card__title{ font-size:1.2rem; margin:0 }
.card__title a{ color: var(--color-secondary) }
.card__meta{ font-size:.9rem; opacity:.75 }
.card__excerpt{ margin: var(--spacing-sm) 0 var(--spacing-md) }
.card__actions .btn--link{ color: var(--color-accent) }
.card__actions .btn--link:hover{ color: var(--color-primary) }

/* Skeleton */
.card--skeleton{
  height:92px; background: linear-gradient(90deg, #1f2937 25%, #111827 37%, #1f2937 63%);
  background-size:400% 100%; animation: shimmer 1.2s infinite linear; border-radius: var(--border-radius);
}
@keyframes shimmer { 0%{background-position:100% 0} 100%{background-position:0 0} }

/* Controles + contador */
.posts__counter{ text-align:left; color:#6b7280; margin: .5rem 0 1rem }
.posts__actions{ display:flex; gap:.5rem; align-items:center; }
#btn-load-more, #btn-load-less{
  display:inline-block; padding:.6rem 1rem; border-radius: var(--border-radius);
  font-weight:700; transition: background-color .25s ease, color .25s ease;
}
#btn-load-more{ background: var(--color-primary); color:#0b1220 }
#btn-load-less{ background: var(--color-secondary); color:#fff }
#btn-load-more:hover, #btn-load-less:hover{ background: var(--color-accent); color:#fff }

/* Empty state */
.empty{ text-align:center; padding: var(--spacing-md) }
.empty__text{ margin-bottom: .75rem }

/* =========================================
   PÁGINA DE POST INDIVIDUAL
========================================= */
.post{ max-width:980px; margin: var(--spacing-lg) auto; padding: 1.25rem 1.5rem; background: var(--color-bg-dark); color: var(--color-text-light); border-radius: var(--border-radius); box-shadow: var(--shadow-1) }
.post__title{ margin: 0 0 .5rem 0; }
.post__meta{ opacity:.75; margin-bottom: 1rem; text-align:right; }
.post__content p, .post__content ul, .post__content ol{ margin-bottom: 1rem; }

/* =========================================
   FOOTER
========================================= */
.site-footer{
  background: var(--color-bg-dark); color: var(--color-text-light);
  text-align:center; padding: var(--spacing-md); margin-top: var(--spacing-xl); font-size:.9rem;
}
.site-footer a{ color: var(--color-accent); font-weight:700 }
.site-footer a:hover{ color: var(--color-primary) }

/* =========================================
   TEMA OSCURO (html.theme--dark)
========================================= */
.theme--dark body{ background: #0b1220; color: var(--color-text-light) }
.theme--dark .card{ background: var(--color-bg-light); color: var(--color-text-light) }
.theme--dark .post{ background: var(--color-bg-light) }
/* ===== Fix: que las reglas de .nav del header no afecten al footer ===== */
.nav--footer{
  position: static !important;
  display: block !important;
  left: auto; top: auto; transform: none !important;
  background: transparent; border: 0; padding: 0; box-shadow: none;
}
.nav--footer .nav__list{
  display: flex !important;
  gap: .75rem;
  justify-content: center;
  align-items: center;
  margin: 0; padding: 0; list-style: none;
}
.nav--footer .nav__link{ color: var(--color-accent); font-weight: 700; }
.nav--footer .nav__link:hover{ color: var(--color-primary); }

/* Contact form UI */
.contact-form .form-label{ display:block; font-weight:700; margin-bottom:.25rem }
.contact-form .form-input{
  width:100%; max-width:680px;
  padding:.6rem .8rem; border:2px solid var(--color-primary);
  border-radius: var(--border-radius); background: transparent; color: inherit;
}
.contact-form textarea.form-input{ resize: vertical }
.contact-form .form-row{ display:grid; justify-items: start }
